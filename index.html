<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <title>Mi-chemin üçª</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
      body {
        min-height: 100vh;
        background-image: url('photo.png');
        background-size: cover;
        background-position: center;
      }
    </style>
  </head>
  <body class="relative">
    <!-- Titre en haut √† gauche -->
    <h1 class="absolute top-4 left-4 text-white text-2xl font-bold z-10">
      Mi-chemin
    </h1>

    <!-- Boutons en haut √† droite -->
    <div class="absolute top-4 right-4 flex flex-row gap-2 z-10">
      <button
        onclick="generateLink()"
        class="bg-transparent border border-white text-white px-6 py-2 rounded-full hover:bg-white/10 transition-all"
      >
        Trouver un bar
      </button>
      <button
        onclick="window.location.href='map.html'"
        class="bg-transparent border border-white text-white px-6 py-2 rounded-full hover:bg-white/10 transition-all"
      >
        Voir tous les bars
      </button>
    </div>
  <script>
      function generateLink() {
        const sessionId = 'session-' + Math.random().toString(36).substring(2, 8);
        const sessionURL = `session.html?id=${sessionId}`;
        
        // Copie dans le presse-papiers
        navigator.clipboard.writeText(window.location.origin + '/' + sessionURL)
          .then(() => {
            // Ouverture dans un nouvel onglet apr√®s la copie
            window.open(sessionURL, '_blank');
          })
          .catch(() => {
            alert("Erreur de copie - le lien s'ouvre quand m√™me");
            window.open(sessionURL, '_blank');
          });
      }
    </script>
  </body>
</html>
